<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games - Logika Proposisi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f9f9f9;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navbar */
        .navbar {
            background-color: #fff;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            padding: 15px 0;
            position: sticky;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            color: #FF801A;
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        .logo-icon {
            margin-right: 10px;
            font-size: 32px;
        }

        .nav-menu {
            display: flex;
            list-style: none;
        }

        .nav-item {
            margin-left: 30px;
            position: relative;
        }

        .nav-link {
            text-decoration: none;
            color: #4a5568;
            font-weight: 500;
            transition: color 0.3s;
            padding: 8px 0;
            position: relative;
        }

        .nav-link:hover {
            color: #FF801A;
        }

        .nav-link.active {
            color: #FF801A;
            font-weight: 600;
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: #FF801A;
            border-radius: 2px;
        }

        /* Games Header */
        .games-header {
            padding: 50px 0 30px;
            text-align: center;
            background-color: #fff;
            margin-top: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .games-title {
            font-size: 42px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .games-subtitle {
            font-size: 18px;
            color: #6e6d7a;
            max-width: 600px;
            margin: 0 auto 25px;
        }

        /* Games Selection */
        .games-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .game-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .game-card-header {
            background: linear-gradient(135deg, #FF801A 0%, #FF9E53 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }

        .game-card-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        .game-card-title {
            font-size: 24px;
            font-weight: 700;
        }

        .game-card-body {
            padding: 25px;
        }

        .game-card-desc {
            color: #6e6d7a;
            margin-bottom: 20px;
            font-size: 16px;
            line-height: 1.6;
        }

        .game-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .game-difficulty {
            font-size: 14px;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: 600;
        }

        .difficulty-easy { background: #e8f5e9; color: #2e7d32; }
        .difficulty-medium { background: #fff3e0; color: #ef6c00; }
        .difficulty-hard { background: #ffebee; color: #c62828; }

        .play-btn {
            background: #FF801A;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .play-btn:hover {
            background: #e67210;
            transform: translateY(-2px);
        }

        /* Game Area */
        .game-area {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 40px;
            display: none; /* Sembunyikan sampai game dipilih */
        }

        .game-area.active {
            display: block;
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .stat-box {
            background: #f8f9fa;
            padding: 15px 25px;
            border-radius: 10px;
            min-width: 120px;
            text-align: center;
        }

        .stat-label {
            font-size: 14px;
            color: #6e6d7a;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #FF801A;
        }

        /* Logic Gate Game - IMPROVED */
        .logic-gate-game {
            margin-top: 30px;
        }

        .puzzle-instruction {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #FF801A;
        }

        .puzzle-instruction p {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .puzzle-instruction strong {
            color: #FF801A;
        }

        .puzzle-target {
            background: #e8f4fc;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 2px dashed #3498db;
        }

        .puzzle-target h4 {
            color: #3498db;
            margin-bottom: 10px;
        }

        .gate-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .gate {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: move;
            border: 2px solid #e9ecef;
            transition: all 0.2s;
            user-select: none;
        }

        .gate:hover {
            border-color: #FF801A;
            transform: translateY(-5px);
        }

        .gate.dragging {
            opacity: 0.7;
        }

        .gate-icon {
            font-size: 32px;
            margin-bottom: 10px;
            color: #FF801A;
            font-weight: bold;
        }

        .gate-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .circuit-area {
            min-height: 200px;
            border: 3px dashed #e9ecef;
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
            background: white;
            transition: all 0.3s;
            position: relative;
        }

        .circuit-area.drag-over {
            border-color: #FF801A;
            background: #fff5eb;
        }

        .circuit-area.empty::after {
            content: 'Drop gerbang logika di sini untuk membangun sirkuit';
            color: #95a5a6;
            font-style: italic;
            text-align: center;
            display: block;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .circuit-slot {
            background: #f8f9fa;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            min-height: 80px;
            position: relative;
        }

        .circuit-slot::before {
            content: 'Slot Sirkuit';
            position: absolute;
            top: -10px;
            left: 10px;
            background: white;
            padding: 0 10px;
            font-size: 12px;
            color: #7f8c8d;
        }

        .dropped-gate {
            background: white;
            border: 2px solid #FF801A;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            text-align: center;
            position: relative;
            animation: dropEffect 0.3s;
        }

        @keyframes dropEffect {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .dropped-gate .gate-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .dropped-gate .gate-name {
            font-size: 14px;
        }

        .remove-gate {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            cursor: pointer;
            line-height: 1;
        }

        .input-controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .input-control {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }

        .input-control label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: #2c3e50;
        }

        .boolean-toggle {
            display: flex;
            gap: 10px;
        }

        .toggle-btn {
            flex: 1;
            padding: 10px;
            text-align: center;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
        }

        .toggle-btn.true {
            color: #27ae60;
        }

        .toggle-btn.false {
            color: #e74c3c;
        }

        .toggle-btn.active {
            border-color: #FF801A;
            background: #fff5eb;
        }

        .output-display {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }

        .output-display h4 {
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .output-value {
            font-size: 32px;
            font-weight: 800;
            padding: 10px 20px;
            border-radius: 5px;
            display: inline-block;
            min-width: 100px;
        }

        .output-true {
            color: #27ae60;
            background: #e8f5e9;
        }

        .output-false {
            color: #e74c3c;
            background: #ffebee;
        }

        /* Game Controls */
        .game-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .check-btn {
            background: #27ae60;
            color: white;
        }

        .check-btn:hover {
            background: #219653;
            transform: translateY(-2px);
        }

        .reset-btn {
            background: #e74c3c;
            color: white;
        }

        .reset-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .next-btn {
            background: #3498db;
            color: white;
        }

        .next-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .back-btn {
            background: #95a5a6;
            color: white;
        }

        .back-btn:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }

        /* Feedback */
        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            font-weight: 600;
            display: none;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .feedback.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        /* Footer */
        footer {
            padding: 40px 0;
            background-color: #2c3e50;
            color: white;
            border-top-left-radius: 40px;
            border-top-right-radius: 40px;
            margin-top: 60px;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .footer-logo {
            font-size: 28px;
            font-weight: 800;
            color: #FF801A;
            display: flex;
            align-items: center;
        }

        .footer-logo i {
            margin-right: 10px;
            font-size: 32px;
        }

        .footer-links {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .footer-link:hover {
            color: #FF801A;
        }

        .team-footer {
            margin: 15px 0;
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
            width: 100%;
            text-align: center;
        }

        .team-footer strong {
            color: #FF801A;
        }

        .copyright {
            margin-top: 30px;
            width: 100%;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .games-title {
                font-size: 32px;
            }
            
            .gate-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .input-controls {
                grid-template-columns: 1fr;
            }
            
            .game-controls {
                flex-direction: column;
            }
            
            .control-btn {
                width: 100%;
                justify-content: center;
            }
            
            .nav-menu {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="home.html" class="logo">
                <i class="fas fa-brain logo-icon"></i>
                Logika Proposisi
            </a>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="home.html" class="nav-link">HOME</a>
                </li>
                <li class="nav-item">
                    <a href="materi.html" class="nav-link">MATH</a>
                </li>
                <li class="nav-item">
                    <a href="aply.html" class="nav-link">APLY</a>
                </li>
                <li class="nav-item">
                    <a href="exam.html" class="nav-link">EXAM</a>
                </li>
                <li class="nav-item">
                    <a href="games.html" class="nav-link active">GAMES</a>
                </li>
                <li class="nav-item">
                    <a href="about.html" class="nav-link">About Us</a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- Games Header -->
    <section class="container">
        <div class="games-header">
            <h1 class="games-title">Games Logika Proposisi</h1>
            <p class="games-subtitle">Asah kemampuan logika Anda melalui permainan seru dan mendidik</p>
        </div>
    </section>

    <!-- Games Selection -->
    <section class="container">
        <div class="games-selection">
            <!-- Game 1: Truth Table Challenge -->
            <div class="game-card">
                <div class="game-card-header">
                    <div class="game-card-icon">
                        <i class="fas fa-table"></i>
                    </div>
                    <h3 class="game-card-title">Truth Table Challenge</h3>
                </div>
                <div class="game-card-body">
                    <p class="game-card-desc">
                        Lengkapi tabel kebenaran dengan nilai TRUE atau FALSE yang tepat. Uji pemahaman Anda tentang operasi logika.
                    </p>
                    <div class="game-card-footer">
                        <span class="game-difficulty difficulty-medium">Medium</span>
                        <button class="play-btn" data-game="truth-table">
                            <i class="fas fa-play"></i> Mainkan
                        </button>
                    </div>
                </div>
            </div>

            <!-- Game 2: Logic Gate Puzzle -->
            <div class="game-card">
                <div class="game-card-header">
                    <div class="game-card-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <h3 class="game-card-title">Logic Gate Puzzle</h3>
                </div>
                <div class="game-card-body">
                    <p class="game-card-desc">
                        Susun gerbang logika untuk mendapatkan output yang diinginkan. Tingkatkan kemampuan berpikir logis Anda.
                    </p>
                    <div class="game-card-footer">
                        <span class="game-difficulty difficulty-hard">Hard</span>
                        <button class="play-btn" data-game="logic-gate">
                            <i class="fas fa-play"></i> Mainkan
                        </button>
                    </div>
                </div>
            </div>

            <!-- Game 3: Operator Matching -->
            <div class="game-card">
                <div class="game-card-header">
                    <div class="game-card-icon">
                        <i class="fas fa-puzzle-piece"></i>
                    </div>
                    <h3 class="game-card-title">Operator Matching</h3>
                </div>
                <div class="game-card-body">
                    <p class="game-card-desc">
                        Cocokkan simbol operator logika dengan maknanya. Permainan cepat untuk mengingat dasar-dasar logika.
                    </p>
                    <div class="game-card-footer">
                        <span class="game-difficulty difficulty-easy">Easy</span>
                        <button class="play-btn" data-game="matching">
                            <i class="fas fa-play"></i> Mainkan
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Game Area -->
    <section class="container">
        <div class="game-area" id="game-area">
            <!-- Logic Gate Game -->
            <div class="logic-gate-game" id="logic-gate-game" style="display: none;">
                <h2>Logic Gate Puzzle</h2>
                
                <div class="game-stats">
                    <div class="stat-box">
                        <div class="stat-label">Puzzle</div>
                        <div class="stat-value" id="gate-puzzle">1/3</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Skor</div>
                        <div class="stat-value" id="gate-score">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Percobaan</div>
                        <div class="stat-value" id="gate-attempts">0</div>
                    </div>
                </div>

                <div class="puzzle-instruction">
                    <p><strong>Cara Bermain:</strong></p>
                    <p>1. Drag and drop gerbang logika dari panel atas ke area sirkuit</p>
                    <p>2. Atur nilai input p dan q menggunakan tombol toggle</p>
                    <p>3. Periksa output yang dihasilkan oleh sirkuit Anda</p>
                    <p>4. Sesuaikan sirkuit sampai output sesuai dengan target</p>
                </div>

                <div class="puzzle-target" id="puzzle-target">
                    <h4>Target Puzzle #<span id="puzzle-number">1</span></h4>
                    <p id="target-description">Buat sirkuit yang menghasilkan TRUE hanya ketika p=TRUE dan q=FALSE</p>
                    <p><strong>Kondisi target:</strong> <span id="target-conditions">p=T, q=F → Output=T; lainnya → Output=F</span></p>
                </div>

                <div class="gate-container" id="gate-container">
                    <div class="gate" draggable="true" data-gate="AND" data-symbol="∧">
                        <div class="gate-icon">∧</div>
                        <div class="gate-name">AND</div>
                    </div>
                    <div class="gate" draggable="true" data-gate="OR" data-symbol="∨">
                        <div class="gate-icon">∨</div>
                        <div class="gate-name">OR</div>
                    </div>
                    <div class="gate" draggable="true" data-gate="NOT" data-symbol="¬">
                        <div class="gate-icon">¬</div>
                        <div class="gate-name">NOT</div>
                    </div>
                    <div class="gate" draggable="true" data-gate="XOR" data-symbol="⊕">
                        <div class="gate-icon">⊕</div>
                        <div class="gate-name">XOR</div>
                    </div>
                </div>

                <div class="circuit-area empty" id="circuit-area">
                    <div class="circuit-slot" id="circuit-slot">
                        <!-- Gerbang yang di-drop akan muncul di sini -->
                    </div>
                </div>

                <div class="input-controls">
                    <div class="input-control">
                        <label>Input p:</label>
                        <div class="boolean-toggle">
                            <div class="toggle-btn true active" data-input="p" data-value="true">TRUE</div>
                            <div class="toggle-btn false" data-input="p" data-value="false">FALSE</div>
                        </div>
                    </div>
                    <div class="input-control">
                        <label>Input q:</label>
                        <div class="boolean-toggle">
                            <div class="toggle-btn true active" data-input="q" data-value="true">TRUE</div>
                            <div class="toggle-btn false" data-input="q" data-value="false">FALSE</div>
                        </div>
                    </div>
                </div>

                <div class="output-display">
                    <h4>Output Sirkuit</h4>
                    <div class="output-value output-false" id="circuit-output">FALSE</div>
                    <p class="output-description" id="output-description">Gerbang: Tidak ada | Output: FALSE</p>
                </div>

                <div class="feedback" id="gate-feedback"></div>

                <div class="game-controls">
                    <button class="control-btn check-btn" id="gate-check-btn">
                        <i class="fas fa-check"></i> Cek Sirkuit
                    </button>
                    <button class="control-btn reset-btn" id="gate-reset-btn">
                        <i class="fas fa-redo"></i> Reset Puzzle
                    </button>
                    <button class="control-btn next-btn" id="gate-next-btn" disabled>
                        <i class="fas fa-forward"></i> Puzzle Berikutnya
                    </button>
                    <button class="control-btn back-btn" id="gate-back-btn">
                        <i class="fas fa-home"></i> Kembali ke Menu
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-brain"></i>
                    <span>Logika Proposisi</span>
                </div>
                <div class="footer-links">
                    <a href="home.html" class="footer-link">Home</a>
                    <a href="materi.html" class="footer-link">Materi</a>
                    <a href="aply.html" class="footer-link">Kalkulator</a>
                    <a href="exam.html" class="footer-link">Exam</a>
                    <a href="games.html" class="footer-link">Games</a>
                    <a href="about.html" class="footer-link">About</a>
                </div>
                <div class="team-footer">
                    <strong>Kelompok 1:</strong> Hawari, Abimanyu, Rifka
                </div>
                <p class="copyright">
                    &copy; 2024 Logika Proposisi - All rights reserved
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Data untuk Logic Gate Puzzle
        const gatePuzzles = [
            {
                id: 1,
                description: "Buat sirkuit yang menghasilkan TRUE hanya ketika p=TRUE dan q=FALSE",
                conditions: "p=T, q=F → Output=T; lainnya → Output=F",
                solution: "AND dengan NOT pada q", // p AND (NOT q)
                testCases: [
                    { p: true, q: true, expected: false },
                    { p: true, q: false, expected: true },
                    { p: false, q: true, expected: false },
                    { p: false, q: false, expected: false }
                ]
            },
            {
                id: 2,
                description: "Buat sirkuit yang menghasilkan TRUE ketika p dan q memiliki nilai berbeda",
                conditions: "p≠q → Output=T; p=q → Output=F",
                solution: "XOR",
                testCases: [
                    { p: true, q: true, expected: false },
                    { p: true, q: false, expected: true },
                    { p: false, q: true, expected: true },
                    { p: false, q: false, expected: false }
                ]
            },
            {
                id: 3,
                description: "Buat sirkuit yang selalu menghasilkan TRUE kecuali ketika p=FALSE dan q=FALSE",
                conditions: "p=F, q=F → Output=F; lainnya → Output=T",
                solution: "OR",
                testCases: [
                    { p: true, q: true, expected: true },
                    { p: true, q: false, expected: true },
                    { p: false, q: true, expected: true },
                    { p: false, q: false, expected: false }
                ]
            }
        ];

        // Variabel untuk Logic Gate Game
        let currentPuzzle = 0;
        let gateScore = 0;
        let gateAttempts = 0;
        let currentGate = null;
        let inputP = true;
        let inputQ = true;

        // DOM Elements untuk Logic Gate Game
        const logicGateGame = document.getElementById('logic-gate-game');
        const circuitArea = document.getElementById('circuit-area');
        const circuitSlot = document.getElementById('circuit-slot');
        const gateCheckBtn = document.getElementById('gate-check-btn');
        const gateResetBtn = document.getElementById('gate-reset-btn');
        const gateNextBtn = document.getElementById('gate-next-btn');
        const gateBackBtn = document.getElementById('gate-back-btn');
        const gateFeedback = document.getElementById('gate-feedback');
        const circuitOutput = document.getElementById('circuit-output');
        const outputDescription = document.getElementById('output-description');

        // Fungsi untuk memulai Logic Gate Game
        function startLogicGateGame() {
            currentPuzzle = 0;
            gateScore = 0;
            gateAttempts = 0;
            currentGate = null;
            
            updateGateStats();
            loadPuzzle(currentPuzzle);
            setupDragAndDrop();
            setupInputToggles();
            
            // Reset circuit area
            circuitSlot.innerHTML = '';
            circuitArea.classList.add('empty');
            updateCircuitOutput();
        }

        // Fungsi untuk memuat puzzle
        function loadPuzzle(puzzleIndex) {
            const puzzle = gatePuzzles[puzzleIndex];
            
            // Update tampilan puzzle
            document.getElementById('puzzle-number').textContent = puzzle.id;
            document.getElementById('target-description').textContent = puzzle.description;
            document.getElementById('target-conditions').textContent = puzzle.conditions;
            document.getElementById('gate-puzzle').textContent = `${puzzle.id}/${gatePuzzles.length}`;
            
            // Reset feedback
            gateFeedback.style.display = 'none';
            gateNextBtn.disabled = true;
            
            // Reset gate
            currentGate = null;
            circuitSlot.innerHTML = '';
            circuitArea.classList.add('empty');
            
            // Update output display
            updateCircuitOutput();
        }

        // Fungsi untuk setup drag and drop
        function setupDragAndDrop() {
            const gates = document.querySelectorAll('.gate');
            
            gates.forEach(gate => {
                gate.addEventListener('dragstart', function(e) {
                    e.dataTransfer.setData('text/plain', JSON.stringify({
                        gate: this.dataset.gate,
                        symbol: this.dataset.symbol
                    }));
                    this.classList.add('dragging');
                });
                
                gate.addEventListener('dragend', function() {
                    this.classList.remove('dragging');
                });
            });
            
            // Setup drop zone
            circuitArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('drag-over');
                this.classList.remove('empty');
            });
            
            circuitArea.addEventListener('dragleave', function() {
                this.classList.remove('drag-over');
                if (circuitSlot.children.length === 0) {
                    this.classList.add('empty');
                }
            });
            
            circuitArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('drag-over', 'empty');
                
                try {
                    const gateData = JSON.parse(e.dataTransfer.getData('text/plain'));
                    addGateToCircuit(gateData);
                } catch (error) {
                    console.error('Error parsing gate data:', error);
                }
            });
        }

        // Fungsi untuk menambahkan gerbang ke sirkuit
        function addGateToCircuit(gateData) {
            // Hapus gerbang yang sudah ada
            circuitSlot.innerHTML = '';
            
            // Buat elemen gerbang baru
            const gateElement = document.createElement('div');
            gateElement.className = 'dropped-gate';
            gateElement.dataset.gate = gateData.gate;
            gateElement.dataset.symbol = gateData.symbol;
            
            gateElement.innerHTML = `
                <div class="gate-icon">${gateData.symbol}</div>
                <div class="gate-name">${gateData.gate}</div>
                <button class="remove-gate">×</button>
            `;
            
            // Tambahkan event listener untuk tombol hapus
            const removeBtn = gateElement.querySelector('.remove-gate');
            removeBtn.addEventListener('click', function() {
                circuitSlot.innerHTML = '';
                circuitArea.classList.add('empty');
                currentGate = null;
                updateCircuitOutput();
            });
            
            circuitSlot.appendChild(gateElement);
            currentGate = gateData.gate;
            
            // Update output
            updateCircuitOutput();
        }

        // Fungsi untuk setup input toggles
        function setupInputToggles() {
            const toggleBtns = document.querySelectorAll('.toggle-btn');
            
            toggleBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const input = this.dataset.input;
                    const value = this.dataset.value === 'true';
                    
                    // Update nilai input
                    if (input === 'p') inputP = value;
                    if (input === 'q') inputQ = value;
                    
                    // Update tampilan tombol
                    const parent = this.parentElement;
                    parent.querySelectorAll('.toggle-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Update output
                    updateCircuitOutput();
                });
            });
        }

        // Fungsi untuk menghitung output berdasarkan gerbang dan input
        function calculateGateOutput(gate, p, q) {
            switch(gate) {
                case 'AND':
                    return p && q;
                case 'OR':
                    return p || q;
                case 'NOT':
                    // Untuk NOT, hanya gunakan input p
                    return !p;
                case 'XOR':
                    return (p && !q) || (!p && q);
                default:
                    return false;
            }
        }

        // Fungsi untuk update output display
        function updateCircuitOutput() {
            let output = false;
            let description = "Gerbang: Tidak ada | Output: FALSE";
            
            if (currentGate) {
                output = calculateGateOutput(currentGate, inputP, inputQ);
                description = `Gerbang: ${currentGate} | p=${inputP ? 'T' : 'F'}, q=${inputQ ? 'T' : 'F'} → Output=${output ? 'T' : 'F'}`;
            }
            
            // Update tampilan
            circuitOutput.textContent = output ? 'TRUE' : 'FALSE';
            circuitOutput.className = output ? 'output-value output-true' : 'output-value output-false';
            outputDescription.textContent = description;
        }

        // Fungsi untuk update statistik game
        function updateGateStats() {
            document.getElementById('gate-score').textContent = gateScore;
            document.getElementById('gate-attempts').textContent = gateAttempts;
        }

        // Fungsi untuk mengecek sirkuit
        function checkCircuit() {
            if (!currentGate) {
                showFeedback('Silakan pilih gerbang logika terlebih dahulu!', 'incorrect');
                return;
            }
            
            gateAttempts++;
            updateGateStats();
            
            const puzzle = gatePuzzles[currentPuzzle];
            let allCorrect = true;
            
            // Test semua kasus uji
            for (const testCase of puzzle.testCases) {
                const output = calculateGateOutput(currentGate, testCase.p, testCase.q);
                if (output !== testCase.expected) {
                    allCorrect = false;
                    break;
                }
            }
            
            if (allCorrect) {
                // Puzzle berhasil diselesaikan
                gateScore += 50;
                updateGateStats();
                
                showFeedback(`Selamat! Puzzle berhasil diselesaikan. +50 poin! Solusi: ${puzzle.solution}`, 'correct');
                gateNextBtn.disabled = false;
            } else {
                // Puzzle belum benar
                showFeedback('Sirkuit belum sesuai dengan target. Coba gerbang lain!', 'incorrect');
            }
        }

        // Fungsi untuk menampilkan feedback
        function showFeedback(message, type) {
            gateFeedback.textContent = message;
            gateFeedback.className = `feedback ${type}`;
            gateFeedback.style.display = 'block';
            
            // Scroll ke feedback
            gateFeedback.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Fungsi untuk reset puzzle
        function resetPuzzle() {
            // Reset gerbang
            currentGate = null;
            circuitSlot.innerHTML = '';
            circuitArea.classList.add('empty');
            
            // Reset input ke default
            inputP = true;
            inputQ = true;
            
            // Update toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                if (btn.dataset.input === 'p' && btn.dataset.value === 'true') btn.classList.add('active');
                else if (btn.dataset.input === 'p' && btn.dataset.value === 'false') btn.classList.remove('active');
                else if (btn.dataset.input === 'q' && btn.dataset.value === 'true') btn.classList.add('active');
                else if (btn.dataset.input === 'q' && btn.dataset.value === 'false') btn.classList.remove('active');
            });
            
            // Update output
            updateCircuitOutput();
            
            // Reset feedback
            gateFeedback.style.display = 'none';
            gateNextBtn.disabled = true;
            
            showFeedback('Puzzle telah direset. Coba lagi!', 'info');
        }

        // Fungsi untuk pindah ke puzzle berikutnya
        function nextPuzzle() {
            if (currentPuzzle < gatePuzzles.length - 1) {
                currentPuzzle++;
                loadPuzzle(currentPuzzle);
                resetPuzzle();
            } else {
                showFeedback('Selamat! Anda telah menyelesaikan semua puzzle Logic Gate!', 'correct');
                gateNextBtn.disabled = true;
            }
        }

        // Event Listeners untuk Logic Gate Game
        gateCheckBtn.addEventListener('click', checkCircuit);
        gateResetBtn.addEventListener('click', resetPuzzle);
        gateNextBtn.addEventListener('click', nextPuzzle);
        gateBackBtn.addEventListener('click', function() {
            gameArea.classList.remove('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // ========== GAME SELECTION LOGIC ==========
        const gameArea = document.getElementById('game-area');
        const playButtons = document.querySelectorAll('.play-btn');

        // Event listener untuk tombol play
        playButtons.forEach(button => {
            button.addEventListener('click', function() {
                const gameType = this.getAttribute('data-game');
                
                if (gameType === 'logic-gate') {
                    // Tampilkan logic gate game
                    logicGateGame.style.display = 'block';
                    gameArea.classList.add('active');
                    
                    // Inisialisasi game
                    startLogicGateGame();
                    
                    // Scroll ke game area
                    gameArea.scrollIntoView({ behavior: 'smooth' });
                } else {
                    // Untuk game lain, tampilkan pesan
                    alert(`Game ${gameType} sedang dalam pengembangan. Silakan mainkan Logic Gate Puzzle!`);
                }
            });
        });

        // ========== NAVBAR ACTIVE LINK ==========
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                const linkPage = link.getAttribute('href');
                if (linkPage === currentPage || (currentPage === '' && linkPage === 'home.html')) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>